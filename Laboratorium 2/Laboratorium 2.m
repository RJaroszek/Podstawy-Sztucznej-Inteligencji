close all; clear all; clc;

PR=[0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 
    0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1;]
%wejscia do sieci i min/max wartosci wejsc
S=1; %ilosc wyjsc z sieci

%net = newlin(PR,S); %metoda 1
net = newff(PR,S,{'tansig'},'trainlm'); %metoda 2

   %A a B b C c D d E e F f H h I i K k L l
WE=[0 0 1 1 0 0 1 0 1 0 1 0 1 1 1 1 1 1 1 1;
    1 1 1 0 1 0 1 0 1 1 1 1 0 0 0 0 0 0 0 0;
    1 1 1 0 1 0 1 0 1 1 1 1 0 0 0 0 0 0 0 0; 
    1 0 0 0 1 0 0 1 1 0 1 0 0 0 0 0 1 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0;%
    1 0 1 1 1 0 1 0 1 1 1 1 1 1 1 0 1 1 1 1;
    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0;
    0 1 1 0 0 0 1 1 0 1 0 0 0 0 0 0 0 0 0 0;
    1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0;%
    1 0 1 1 1 0 1 0 1 1 1 1 1 1 1 1 1 1 1 1;
    1 1 1 1 0 1 0 1 1 1 1 1 1 1 0 0 1 0 0 0;
    1 1 1 1 0 1 0 1 1 1 1 1 1 1 0 0 0 1 0 0;
    1 1 0 0 0 0 1 1 0 0 0 0 1 0 0 0 0 0 0 0;
    1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0;%
    1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1;
    0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0;
    0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 0 0 0;
    0 1 1 1 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0;
    1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0;% 
    1 0 1 1 0 0 1 0 1 0 1 1 1 1 1 1 1 1 1 1;
    0 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 1 1;
    0 1 1 1 1 1 1 1 1 1 0 0 0 1 0 0 0 1 1 1;
    0 1 0 0 1 0 0 1 1 0 0 0 0 0 0 0 1 0 1 0;
    1 1 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0;]%
   %A a B b C c D d E e F f H h I i K k L l
WY=[1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0]; 

net.name='Rozroznianie wielkosci liter';

%parametry treningu
net.trainParam.epochs = 10000; %max iloœæ epok
net.trainParam.goal = 0.0001; %b³¹d œredniokwadratowy
net.trainParam.mu = 0.001; %wspó³czynnik uczenia

net = train(net, WE, WY);%uczenie

%litery do testu: 
testA = [0; 1; 1; 1; 0; %A
        1; 0; 0; 0; 1;
        1; 1; 1; 1; 1;
        1; 0; 0; 0; 1;
        1; 0; 0; 0; 1];
testa= [0; 1; 1; 0; 0;%a
        0; 0; 0; 1; 0;
        0; 1; 1; 1; 0;
        1; 0; 0; 1; 0;
        0; 1; 1; 1; 1];
testB= [1; 1; 1; 0; 0;%B
        1; 0; 0; 1; 0;
        1; 1; 1; 0; 0;
        1; 0; 0; 1; 0;
        1; 1; 1; 0; 0];
testb= [1; 0; 0; 0; 0;%b
        1; 0; 0; 0; 0;
        1; 1; 1; 0; 0;
        1; 0; 0; 1; 0;
        1; 1; 1; 0; 0];
testC= [0; 1; 1; 1; 0;%C
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        0; 1; 1; 1; 0];
testc= [0; 0; 0; 0; 0;%c
        0; 0; 0; 0; 0;
        0; 1; 1; 0; 0;
        1; 0; 0; 0; 0;
        0; 1; 1; 0; 0]; 
testD= [1; 1; 1; 0; 0;%D
        1; 0; 0; 1; 0;
        1; 0; 0; 1; 0;
        1; 0; 0; 1; 0;
        1; 1; 1; 0; 0];
testd= [0; 0; 0; 1; 0;%d
        0; 0; 0; 1; 0;
        0; 1; 1; 1; 0;
        1; 0; 0; 1; 0;
        0; 1; 1; 1; 0];
testE= [1; 1; 1; 1; 0;%E
        1; 0; 0; 0; 0;
        1; 1; 1; 0; 0;
        1; 0; 0; 0; 0;
        1; 1; 1; 1; 0];
teste= [0; 1; 1; 0; 0;%e
        1; 0; 0; 1; 0;
        1; 1; 1; 0; 0;
        1; 0; 0; 0; 0;
        0; 1; 1; 0; 0];
testF= [1; 1; 1; 1; 0;%F
        1; 0; 0; 0; 0;
        1; 1; 1; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0];
testf= [0; 1; 1; 0; 0;%f
        1; 0; 0; 0; 0;
        1; 1; 1; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0];
testH= [1; 0; 0; 0; 1;%H
        1; 0; 0; 0; 1;
        1; 1; 1; 1; 1;
        1; 0; 0; 0; 1;
        1; 0; 0; 0; 1];
testh= [1; 0; 0; 0; 0;%h
        1; 0; 0; 0; 0;
        1; 1; 1; 0; 0;
        1; 0; 1; 0; 0;
        1; 0; 1; 0; 0];
testI= [1; 0; 0; 0; 0;%I
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0];
testi= [1; 0; 0; 0; 0;%i
        0; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0];
testK= [1; 0; 0; 1; 0;%K
        1; 0; 1; 0; 0;
        1; 1; 0; 0; 0;
        1; 0; 1; 0; 0;
        1; 0; 0; 1; 0];
testk= [1; 0; 0; 0; 0;%k
        1; 0; 0; 0; 0;
        1; 0; 1; 0; 0;
        1; 1; 0; 0; 0;
        1; 0; 1; 0; 0];
testL= [1; 0; 0; 0; 0;%L
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 1; 1; 1; 0];
testl= [1; 0; 0; 0; 0;%l
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 0; 0; 0; 0;
        1; 1; 1; 0; 0];


efekt=sim(net, testA);%testowanie sieci
%testX gdzie x to litera z przedzialu:
%A a B b C c D d E e F f H h I i K k L l

if round(efekt) == 0    
    disp('Mala litera');
else
    disp('Duza litera');
end